var R=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var O=(e,n,s)=>n in e?R(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))Y.call(n,s)&&O(e,s,n[s]);if(P)for(var s of P(n))_.call(n,s)&&O(e,s,n[s]);return e},N=(e,n)=>W(e,X(n));import{v as A,T as q,a as x,r as j}from"./framework.26b70b32.js";import{a as k,u as G,_ as U,w as ee,d as b,e as ne}from"./plugin-vue_export-helper.0e112168.js";import{p as se}from"./index.b4ed279b.js";import{d as I,c as $,o as c,b as S,t as z,G as D,A as h,B as Z,e as w,v as p,F as J,f as K,k as V,h as te,y as B,z as g,D as T,C as oe,H as ae,x as le,a9 as v}from"./framework.f98c6945.js";import{u as re}from"./index.6dc872ad.js";import{d as ie,a as ue,b as me,T as F,E as de}from"./index.60cab0c7.js";import{c as fe,i as ce,b as pe}from"./index.9200e681.js";import{u as ye}from"./index.b5debe7e.js";const ge=k({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ve=I({name:"ElBadge",props:ge,setup(e){const n=G("badge"),s=$(()=>e.isDot?"":typeof e.value=="number"&&typeof e.max=="number"?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return{ns:n,content:s}}}),be=["textContent"];function Ce(e,n,s,o,u,i){return c(),S("div",{class:p(e.ns.b())},[z(e.$slots,"default"),D(q,{name:`${e.ns.namespace.value}-zoom-in-center`},{default:h(()=>[Z(w("sup",{class:p([e.ns.e("content"),e.ns.em("content",e.type),e.ns.is("fixed",!!e.$slots.default),e.ns.is("dot",e.isDot)]),textContent:J(e.content)},null,10,be),[[A,!e.hidden&&(e.content||e.content==="0"||e.isDot)]])]),_:1},8,["name"])],2)}var Te=U(ve,[["render",Ce]]);const $e=ee(Te),M={},he=k({locale:{type:b(Object)},size:{type:String,values:["large","default","small"]},button:{type:b(Object)},message:{type:b(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});var Ge=I({name:"ElConfigProvider",props:he,setup(e,{slots:n}){K(()=>e.message,o=>{Object.assign(M,o!=null?o:{})},{immediate:!0,deep:!0});const s=se(e);return()=>z(n,"default",{config:s==null?void 0:s.value})}});const Q=["success","info","warning","error"],Ee=k({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:ie,default:""},id:{type:String,default:""},message:{type:b([String,Object]),default:""},onClose:{type:b(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:Q,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Ne={destroy:()=>!0},Be=I({name:"ElMessage",components:C({ElBadge:$e,ElIcon:ue},me),props:Ee,emits:Ne,setup(e){const n=G("message"),s=V(!1),o=V(e.type?e.type==="error"?"danger":e.type:"info");let u;const i=$(()=>{const f=e.type;return{[n.bm("icon",f)]:f&&F[f]}}),t=$(()=>e.icon||F[e.type]||""),r=$(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function d(){e.duration>0&&({stop:u}=fe(()=>{s.value&&m()},e.duration))}function a(){u==null||u()}function m(){s.value=!1}function y({code:f}){f===de.esc?s.value&&m():d()}return te(()=>{d(),s.value=!0}),K(()=>e.repeatNum,()=>{a(),d()}),re(document,"keydown",y),{ns:n,typeClass:i,iconComponent:t,customStyle:r,visible:s,badgeType:o,close:m,clearTimer:a,startTimer:d}}}),Se=["id"],we=["innerHTML"];function Me(e,n,s,o,u,i){const t=B("el-badge"),r=B("el-icon"),d=B("close");return c(),g(q,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:n[2]||(n[2]=a=>e.$emit("destroy"))},{default:h(()=>[Z(w("div",{id:e.id,class:p([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:le(e.customStyle),role:"alert",onMouseenter:n[0]||(n[0]=(...a)=>e.clearTimer&&e.clearTimer(...a)),onMouseleave:n[1]||(n[1]=(...a)=>e.startTimer&&e.startTimer(...a))},[e.repeatNum>1?(c(),g(t,{key:0,value:e.repeatNum,type:e.badgeType,class:p(e.ns.e("badge"))},null,8,["value","type","class"])):T("v-if",!0),e.iconComponent?(c(),g(r,{key:1,class:p([e.ns.e("icon"),e.typeClass])},{default:h(()=>[(c(),g(oe(e.iconComponent)))]),_:1},8,["class"])):T("v-if",!0),z(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(c(),S(ae,{key:1},[T(" Caution here, message could've been compromised, never use user's input as message "),w("p",{class:p(e.ns.e("content")),innerHTML:e.message},null,10,we)],2112)):(c(),S("p",{key:0,class:p(e.ns.e("content"))},J(e.message),3))]),e.showClose?(c(),g(r,{key:2,class:p(e.ns.e("closeBtn")),onClick:x(e.close,["stop"])},{default:h(()=>[D(d)]),_:1},8,["class","onClick"])):T("v-if",!0)],46,Se),[[A,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var ke=U(Be,[["render",Me]]);const l=[];let Ie=1;const E=function(e={}){if(!ce)return{close:()=>{}};if(pe(M.max)&&l.length>=M.max)return{close:()=>{}};if(!v(e)&&typeof e=="object"&&e.grouping&&!v(e.message)&&l.length){const m=l.find(y=>{var f,H,L;return`${(H=(f=y.vm.props)==null?void 0:f.message)!=null?H:""}`==`${(L=e.message)!=null?L:""}`});if(m)return m.vm.component.props.repeatNum+=1,m.vm.component.props.type=e==null?void 0:e.type,{close:()=>a.component.proxy.visible=!1}}(typeof e=="string"||v(e))&&(e={message:e});let n=e.offset||20;l.forEach(({vm:m})=>{var y;n+=(((y=m.el)==null?void 0:y.offsetHeight)||0)+16}),n+=16;const{nextZIndex:s}=ye(),o=`message_${Ie++}`,u=e.onClose,i=N(C({zIndex:s(),offset:n},e),{id:o,onClose:()=>{ze(o,u)}});let t=document.body;e.appendTo instanceof HTMLElement?t=e.appendTo:typeof e.appendTo=="string"&&(t=document.querySelector(e.appendTo)),t instanceof HTMLElement||(t=document.body);const r=document.createElement("div");r.className=`container_${o}`;const d=i.message,a=D(ke,i,v(i.message)?{default:()=>d}:null);return a.props.onDestroy=()=>{j(null,r)},j(a,r),l.push({vm:a}),t.appendChild(r.firstElementChild),{close:()=>a.component.proxy.visible=!1}};Q.forEach(e=>{E[e]=(n={})=>((typeof n=="string"||v(n))&&(n={message:n}),E(N(C({},n),{type:e})))});function ze(e,n){const s=l.findIndex(({vm:t})=>e===t.component.props.id);if(s===-1)return;const{vm:o}=l[s];if(!o)return;n==null||n(o);const u=o.el.offsetHeight;l.splice(s,1);const i=l.length;if(!(i<1))for(let t=s;t<i;t++){const r=parseInt(l[t].vm.el.style.top,10)-u-16;l[t].vm.component.props.offset=r}}function De(){var e;for(let n=l.length-1;n>=0;n--){const s=l[n].vm.component;(e=s==null?void 0:s.proxy)==null||e.close()}}E.closeAll=De;const Ue=ne(E,"$message");export{Ge as C,$e as E,Ue as a};
