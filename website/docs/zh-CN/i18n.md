## å›½é™…åŒ–

Element Plus ç»„ä»¶å†…éƒ¨é»˜è®¤ä½¿ç”¨è‹±è¯­ï¼Œè‹¥å¸Œæœ›ä½¿ç”¨å…¶ä»–è¯­è¨€ï¼Œåˆ™éœ€è¦è¿›è¡Œå¤šè¯­è¨€è®¾ç½®ã€‚ä»¥ä¸­æ–‡ä¸ºä¾‹ï¼Œåœ¨ main.js ä¸­

:::warning
æˆ‘ä»¬åœ¨ **1.0.2-beta.59ï¼ˆåŒ…å«59ï¼‰** ä¹‹åçš„å›½é™…åŒ–æŒ‰éœ€å¼•å…¥æœ‰ç ´åæ€§å˜åŠ¨ï¼Œè¯·å¾€ä¸‹æŸ¥çœ‹ï¼Œè¯¥å˜åŠ¨**ä¸é€‚ç”¨äº 1.0.2-beta.58 ä¹‹å‰çš„ç‰ˆæœ¬**
:::

### 1.0.2-beta.59ï¼ˆåŒ…å«59ï¼‰ä¹‹åçš„æ›´æ–°ï¼š

åœ¨ `1.0.2-beta.58ï¼ˆåŒ…å«59ï¼‰`ä¹‹åï¼Œæˆ‘ä»¬é‡æ–°ç»„ç»‡äº†ä»£ç ï¼Œè®©å›½é™…åŒ–åŠŸèƒ½èƒ½å¤Ÿè¢«æ­£å¸¸çš„ä½¿ç”¨(ä¸è®ºæ˜¯å…¨å¼•å…¥è¿˜æ˜¯æŒ‰éœ€å¼•å…¥ï¼‰ï¼Œä¸€å…±æœ‰ä¸¤ç§æ–¹å¼åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ã€‚

#### 1. é€šè¿‡ ConfigProvider çš„æ–¹å¼æ¥ä½¿ç”¨ï¼Œè¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•è¯·æŸ¥é˜… ConfigProvider çš„æ–‡æ¡£
å¦‚æœä½ çš„é¡¹ç›®ä¸­è¿˜åœ¨ä½¿ç”¨ `options API`, é‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬æ›´åŠ å»ºè®®ç”¨æˆ·ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºè¿™æ ·ä¼šå‡å°‘ä½¿ç”¨çš„è´Ÿæ‹…ï¼Œä½†å¦‚æœä½ åœ¨é¡¹ç›®ä¸­æ·±åº¦ä½¿ç”¨ `Composition API`ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•æ¥ä¸ºæ•´ä¸ªåº”ç”¨æä¾›è¯­è¨€æ”¯æŒã€‚

[ConfigProvider](https://element-plus.org/#/zh-CN/component/config-provider)

#### 2. é€šè¿‡ Composable çš„ Hook ä½¿ç”¨
è¯¥æ–¹æ³•åŸºæœ¬å°±æ˜¯é€šè¿‡ä½ è‡ªå·±å†™ä¸€ä¸ª [ConfigProvider](https://element-plus.org/#/zh-CN/component/config-provider) çš„æ–¹å¼ï¼Œæ¥æ³¨å…¥æ‰€æœ‰é…ç½®

```ts
import { useLocale, useLocaleProps } from 'element-plus'
// Locale Wrapper å…¥å£
const Provider = defineComponent({
  props: {
    // å¦‚æœä½ éœ€è¦ä½ çš„åº”ç”¨å¯ä»¥ç›¸åº”å¼çš„æ›´æ–°è¯­è¨€ï¼Œé‚£ä¹ˆè¿™é‡Œçš„ props å¿…é¡»åŒ…å«ä¸‹é¢è¿™ä¸ª props
    ...useLocaleProps,
  },
  setup() {
    // ä¸éœ€è¦ä»»ä½•å‚æ•°ï¼Œä½†æ˜¯éœ€è¦ä½ çš„è¿™ä¸ªç»„ä»¶å¯ä»¥æ¥å—
    // ` { locale?: Language, i18n?: (...args: any[]) => string }` ä½œä¸ºå‚æ•°
    useLocale()
  }
})


createApp(
  {
    // ...
    template: `
      <provider :locale="locale" :i18n="i18n">
        <App />
      </provider>
    `
  }
)

```

### è®¾ç½® Day.js å›½é™…åŒ–

Element Plus ç›´æ¥ä½¿ç”¨äº† [Day.js](https://day.js.org/) é¡¹ç›®çš„æ—¶é—´æ—¥æœŸå›½é™…åŒ–è®¾ç½®ï¼Œå¦‚æœˆä»½åç§°ã€æ¯å‘¨ç¬¬ä¸€å¤©æ˜¯å‘¨å‡ ç­‰ã€‚å¹¶ä¸”ä¼šè‡ªåŠ¨å…¨å±€è®¾ç½®å·²ç»å¯¼å…¥çš„ Day.js å›½é™…åŒ–é…ç½®ã€‚

```typescript
import locale from 'element-plus/lib/locale/lang/zh-cn'
import 'dayjs/locale/zh-cn'

// å°†è‡ªåŠ¨è®¾ç½® Day.js çš„å›½é™…åŒ–è®¾ç½®ä¸º 'zh-cn'
app.use(ElementPlus, { locale })
```

å½“ç„¶ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾ç½®æˆå…¶ä»– Day.js å›½é™…åŒ–é…ç½®

```typescript
import 'dayjs/locale/fr'
dayjs.locale('fr')
```

å¦‚æœä½¿ç”¨å…¶å®ƒè¯­è¨€ï¼Œé»˜è®¤æƒ…å†µä¸‹è‹±æ–‡è¯­è¨€åŒ…ä¾æ—§æ˜¯è¢«å¼•å…¥çš„ï¼Œå¯ä»¥ä½¿ç”¨ webpack çš„ NormalModuleReplacementPlugin æ›¿æ¢é»˜è®¤è¯­è¨€åŒ…ã€‚

**webpack.config.js**

```typescript
{
  plugins: [
    new webpack.NormalModuleReplacementPlugin(
      /element-plus[\/\\]lib[\/\\]locale[\/\\]lang[\/\\]en/,
      'element-plus/lib/locale/lang/zh-cn',
    ),
  ]
}
```

### å…¼å®¹ `vue-i18n@9.x`

å¦‚æœéœ€è¦æŸ¥çœ‹ [VueI18nçš„æ–‡æ¡£](https://vue-i18n-next.intlify.dev/guide/#html), è¯·ç‚¹å‡»è¿™ä¸ªé“¾æ¥å»æŸ¥çœ‹

```typescript
import { createApp } from 'vue'
import { createI18n } from 'vue-i18n'
import ElementPlus from 'element-plus'
import enLocale from 'element-plus/lib/locale/lang/en'
import zhLocale from 'element-plus/lib/locale/lang/zh-cn'
import App from './App.vue'

const messages = {
  [enLocale.name]: {
    // el è¿™ä¸ªå±æ€§å¾ˆå…³é”®ï¼Œä¸€å®šè¦ä¿è¯æœ‰è¿™ä¸ªå±æ€§ï¼Œ
    el: enLocale.el,
    // å®šä¹‰ä½ è‡ªå·±çš„å­—å…¸ï¼Œä½†æ˜¯è¯·ä¸è¦å’Œ `el` é‡å¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´ ElementPlus å†…éƒ¨ç»„ä»¶çš„ç¿»è¯‘å¤±æ•ˆ.
    message: {
      hello: 'hello world',
    },
  },
  [zhLocale.name]: {
    el: zhLocale.el,
    // å®šä¹‰ä½ è‡ªå·±çš„å­—å…¸ï¼Œä½†æ˜¯è¯·ä¸è¦å’Œ `el` é‡å¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´ ElementPlus å†…éƒ¨ç»„ä»¶çš„ç¿»è¯‘å¤±æ•ˆ.
    message: {
      hello: 'ä½ å¥½ï¼Œä¸–ç•Œ',
    },
  },
  testLocale: {
    el: {},
    // æ²¡æœ‰å®šä¹‰ message å­—æ®µï¼Œä¼š fallback å›åˆ° en å», fallbackLocale çš„å®šä¹‰åœ¨ä¸‹æ–¹ ğŸ‘‡
  },
}

const i18n = createI18n({
  locale: zhLocale.name,
  fallbackLocale: enLocale.name,
  messages,
})

const app = createApp(App)

app.use(ElementPlus, {
  i18n: i18n.global.t,
})

// è¦è®°å¾—ä½¿ç”¨è¿™ä¸ªæ’ä»¶.
app.use(i18n)
```

### å…¼å®¹å…¶ä»– i18n æ’ä»¶

å¦‚æœä¸ä½¿ç”¨ `vue-i18n@9.x`ï¼Œè€Œæ˜¯ç”¨å…¶ä»–çš„ i18n æ’ä»¶ï¼ŒElement Plus å°†æ— æ³•å…¼å®¹ï¼Œä½†æ˜¯å¯ä»¥è‡ªå®šä¹‰ Element Plus çš„ i18n çš„å¤„ç†æ–¹æ³•ã€‚

:::tip
ä¸€æ—¦è®¾ç½®äº†è¿™ä¸ªæ–¹æ³•ï¼ŒElementPlus å†…ç½®çš„ç¿»è¯‘åŠŸèƒ½å°±ä¼šå¤±æ•ˆï¼Œä¼šä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„ç¿»è¯‘åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®ä¿ç¿»è¯‘æ–¹æ³•èƒ½å¤Ÿæ­£ç¡®çš„ç¿»è¯‘  `el.scope.subName` çš„æ ¼å¼ï¼Œå¦‚æœè‡ªå®šä¹‰çš„æ–¹æ³•æ— æ³•ç¿»è¯‘ `el.select.noData` çš„æ ¼å¼ï¼Œå°†ä¼šä½¿ç»„ä»¶çš„æ–‡æœ¬å¤±æ•ˆ.
:::

```typescript
import Vue from 'vue'
import ElementPlus from 'element-plus'
import enLocale from 'element-plus/lib/locale/lang/en'
import zhLocale from 'element-plus/lib/locale/lang/zh-cn'

// è¿™æ˜¯ i18n å‡½æ•°çš„å‡½æ•°ç­¾å.
type i18n = (...args: any[]) => string
Vue.use(Element, {
  i18n: function(path, options) {
    // ...
  },
  // others.
})
```

### æŒ‰éœ€åŠ è½½é‡Œå®šåˆ¶ i18n

å¦‚æœä½ éœ€è¦æŒ‰éœ€åŠ è½½ç¿»è¯‘æ–‡ä»¶ï¼Œè¯·æŸ¥çœ‹[æŒ‰éœ€åŠ è½½](https://vue-i18n-next.intlify.dev/guide/advanced/lazy.html)

```typescript
import { createApp } from 'vue'
import { createI18n } from 'vue-i18n'
import ElementPlus from 'element-plus'
import enLocale from 'element-plus/lib/locale/lang/en'
import zhLocale from 'element-plus/lib/locale/lang/zh-cn'
import ElementLocale from 'element-plus/lib/locale'
import App from './App.vue'

const messages = {
  [enLocale.name]: {
    // el è¿™ä¸ªå±æ€§å¾ˆå…³é”®ï¼Œä¸€å®šè¦ä¿è¯æœ‰è¿™ä¸ªå±æ€§ï¼Œ
    el: enLocale.el,
    // å®šä¹‰ä½ è‡ªå·±çš„å­—å…¸ï¼Œä½†æ˜¯è¯·ä¸è¦å’Œ `el` é‡å¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´ ElementPlus å†…éƒ¨ç»„ä»¶çš„ç¿»è¯‘å¤±æ•ˆ.
    message: {
      hello: 'hello world',
    },
  },
  [zhLocale.name]: {
    el: zhLocale.el,
    // å®šä¹‰ä½ è‡ªå·±çš„å­—å…¸ï¼Œä½†æ˜¯è¯·ä¸è¦å’Œ `el` é‡å¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´ ElementPlus å†…éƒ¨ç»„ä»¶çš„ç¿»è¯‘å¤±æ•ˆ.
    message: {
      hello: 'ä½ å¥½ï¼Œä¸–ç•Œ',
    },
  },
  testLocale: {
    el: {},
    // æ²¡æœ‰å®šä¹‰ message å­—æ®µï¼Œä¼š fallback å›åˆ° en å», fallbackLocale çš„å®šä¹‰åœ¨ä¸‹æ–¹ ğŸ‘‡
  },
}

const i18n = createI18n({
  locale: zhLocale.name,
  fallbackLocale: enLocale.name,
  messages,
})

ElementLocale.i18n(i18n.global.t)

const app = createApp(App)
app.use(i18n)
```

### é€šè¿‡ CDN çš„æ–¹å¼åŠ è½½è¯­è¨€æ–‡ä»¶

```html
<script src="//unpkg.com/vue@next"></script>
<script src="//unpkg.com/element-plus/lib/index.full.js"></script>
<script src="//unpkg.com/element-plus/lib/umd/locale/es.js"></script>
<script src="//unpkg.com/dayjs/locale/zh-cn.js"></script>

<script>
  ElementPlus.locale(ElementPlus.lang.zhCn)
</script>
```

æ­é… `vue-i18n` ä½¿ç”¨

```html
<script src="//unpkg.com/vue@next"></script>
<script src="//unpkg.com/vue-i18n/dist/vue-i18n.js"></script>
<script src="//unpkg.com/element-plus/lib/index.full.js"></script>
<script src="//unpkg.com/element-plus/lib/umd/locale/zh-cn.js"></script>
<script src="//unpkg.com/element-plus/lib/umd/locale/en.js"></script>

<script>
  const i18n = Vue18n.createI18n({
    locale: ElementPlus.lang.zhCN.name,
    fallbackLocale: ElementPlus.lang.en.name,
    messages: {
      [ElementPlus.lang.en.name]: {
        // el è¿™ä¸ªå±æ€§å¾ˆå…³é”®ï¼Œä¸€å®šè¦ä¿è¯æœ‰è¿™ä¸ªå±æ€§ï¼Œ
        el: ElementPlus.lang.en.el,
        // å®šä¹‰ä½ è‡ªå·±çš„å­—å…¸ï¼Œä½†æ˜¯è¯·ä¸è¦å’Œ `el` é‡å¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´ ElementPlus å†…éƒ¨ç»„ä»¶çš„ç¿»è¯‘å¤±æ•ˆ.
        message: {
          hello: 'hello world',
        },
      },
      [ElementPlus.lang.zhCN.name]: {
        el: ElementPlus.lang.zhCN.el,
        // å®šä¹‰ä½ è‡ªå·±çš„å­—å…¸ï¼Œä½†æ˜¯è¯·ä¸è¦å’Œ `el` é‡å¤ï¼Œè¿™æ ·ä¼šå¯¼è‡´ ElementPlus å†…éƒ¨ç»„ä»¶çš„ç¿»è¯‘å¤±æ•ˆ.
        message: {
          hello: 'ä½ å¥½ï¼Œä¸–ç•Œ',
        },
      },
      testLocale: {
        el: {},
        // æ²¡æœ‰å®šä¹‰ message å­—æ®µï¼Œä¼š fallback å›åˆ° en å».
      },
    },
  })

  const app = Vue.createApp()
  app.use(i18n)
</script>
```

ç›®å‰ Element Plus å†…ç½®äº†ä»¥ä¸‹è¯­è¨€ï¼š

<ul class="language-list">
  <li>ç®€ä½“ä¸­æ–‡ï¼ˆzh-cnï¼‰</li>
  <li>è‹±è¯­ï¼ˆenï¼‰</li>
  <li>å¾·è¯­ï¼ˆdeï¼‰</li>
  <li>è‘¡è„ç‰™è¯­ï¼ˆptï¼‰</li>
  <li>è¥¿ç­ç‰™è¯­ï¼ˆesï¼‰</li>
  <li>ä¸¹éº¦è¯­ï¼ˆdaï¼‰</li>
  <li>æ³•è¯­ï¼ˆfrï¼‰</li>
  <li>æŒªå¨è¯­ï¼ˆnb-noï¼‰</li>
  <li>ç¹ä½“ä¸­æ–‡ï¼ˆzh-twï¼‰</li>
  <li>æ„å¤§åˆ©è¯­ï¼ˆitï¼‰</li>
  <li>éŸ©è¯­ï¼ˆkoï¼‰</li>
  <li>æ—¥è¯­ï¼ˆjaï¼‰</li>
  <li>è·å…°è¯­ï¼ˆnlï¼‰</li>
  <li>è¶Šå—è¯­ï¼ˆviï¼‰</li>
  <li>ä¿„è¯­ï¼ˆruï¼‰</li>
  <li>åœŸè€³å…¶è¯­ï¼ˆtrï¼‰</li>
  <li>å·´è¥¿è‘¡è„ç‰™è¯­ï¼ˆpt-brï¼‰</li>
  <li>æ³¢æ–¯è¯­ï¼ˆfaï¼‰</li>
  <li>æ³°è¯­ï¼ˆthï¼‰</li>
  <li>å°å°¼è¯­ï¼ˆidï¼‰</li>
  <li>ä¿åŠ åˆ©äºšè¯­ï¼ˆbgï¼‰</li>
  <li>æ³¢å…°è¯­ï¼ˆplï¼‰</li>
  <li>èŠ¬å…°è¯­ï¼ˆfiï¼‰</li>
  <li>ç‘å…¸è¯­ï¼ˆsvï¼‰</li>
  <li>å¸Œè…Šè¯­ï¼ˆelï¼‰</li>
  <li>æ–¯æ´›ä¼å…‹è¯­ï¼ˆskï¼‰</li>
  <li>åŠ æ³°ç½—å°¼äºšè¯­ï¼ˆcaï¼‰</li>
  <li>æ·å…‹è¯­ï¼ˆcsï¼‰</li>
  <li>ä¹Œå…‹å…°è¯­ï¼ˆukï¼‰</li>
  <li>åœŸåº“æ›¼è¯­ï¼ˆtkï¼‰</li>
  <li>æ³°ç±³å°”è¯­ï¼ˆtaï¼‰</li>
  <li>æ‹‰è„±ç»´äºšè¯­ï¼ˆlvï¼‰</li>
  <li>å—éè·å…°è¯­ï¼ˆafï¼‰</li>
  <li>çˆ±æ²™å°¼äºšè¯­ï¼ˆetï¼‰</li>
  <li>æ–¯æ´›æ–‡å°¼äºšè¯­ï¼ˆslï¼‰</li>
  <li>é˜¿æ‹‰ä¼¯è¯­ï¼ˆarï¼‰</li>
  <li>å¸Œä¼¯æ¥è¯­ï¼ˆheï¼‰</li>
  <li>ç«‹é™¶å®›è¯­ï¼ˆltï¼‰</li>
  <li>è’™å¤è¯­ï¼ˆmnï¼‰</li>
  <li>å“ˆè¨å…‹æ–¯å¦è¯­ï¼ˆkkï¼‰</li>
  <li>åŒˆç‰™åˆ©è¯­ï¼ˆhuï¼‰</li>
  <li>ç½—é©¬å°¼äºšè¯­ï¼ˆroï¼‰</li>
  <li>åº“å°”å¾·è¯­ï¼ˆkuï¼‰</li>
  <li>ç»´å¾å°”è¯­ï¼ˆug-cnï¼‰</li>
  <li>é«˜æ£‰è¯­ï¼ˆkmï¼‰</li>
  <li>å¡å°”ç»´äºšè¯­ï¼ˆsrï¼‰</li>
  <li>å·´æ–¯å…‹è¯­ï¼ˆeuï¼‰</li>
  <li>å‰å°”å‰æ–¯è¯­ï¼ˆkyï¼‰</li>
  <li>äºšç¾å°¼äºšè¯­ (hy-am)</li>
  <li>å…‹ç½—åœ°äºš (hr)</li>
  <li>ä¸–ç•Œè¯­ (eo)</li>
</ul>

å¦‚æœä½ éœ€è¦ä½¿ç”¨å…¶ä»–çš„è¯­è¨€ï¼Œæ¬¢è¿è´¡çŒ® PRï¼šåªéœ€åœ¨ [è¿™é‡Œ](https://github.com/element-plus/element-plus/tree/dev/packages/locale/lang) æ·»åŠ ä¸€ä¸ªè¯­è¨€é…ç½®æ–‡ä»¶å³å¯ã€‚
